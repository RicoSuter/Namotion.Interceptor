// <auto-generated>
//     This code was generated by Namotion.Interceptor.Generator
// </auto-generated>

using Namotion.Interceptor;
using Namotion.Interceptor.Interceptors;

using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Collections.Frozen;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text.Json.Serialization;

#pragma warning disable CS8669
#pragma warning disable CS0649

namespace YourDefaultNamespace 
{
    public partial class BaseEntity : IInterceptorSubject
    {
        private IInterceptorExecutor? _context;
        private IReadOnlyDictionary<string, SubjectPropertyMetadata>? _properties;

        [JsonIgnore]
        IInterceptorSubjectContext IInterceptorSubject.Context => _context ??= new InterceptorExecutor(this);

        [JsonIgnore]
        ConcurrentDictionary<(string? property, string key), object?> IInterceptorSubject.Data { get; } = new();

        [JsonIgnore]
        IReadOnlyDictionary<string, SubjectPropertyMetadata> IInterceptorSubject.Properties => _properties ?? DefaultProperties;

        [JsonIgnore]
        object IInterceptorSubject.SyncRoot { get; } = new object();

        void IInterceptorSubject.AddProperties(params IEnumerable<SubjectPropertyMetadata> properties)
        {
            _properties = (_properties ?? DefaultProperties)
                .Concat(properties.Select(p => new KeyValuePair<string, SubjectPropertyMetadata>(p.Name, p)))
                .ToFrozenDictionary();
        }

        public static IReadOnlyDictionary<string, SubjectPropertyMetadata> DefaultProperties { get; } =
            new Dictionary<string, SubjectPropertyMetadata>
            {
                {
                    "Id",       
                    new SubjectPropertyMetadata(
                        typeof(BaseEntity).GetProperty(nameof(Id), BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)!, 
                        (o) => ((BaseEntity)o).Id, 
                        (o, v) => ((BaseEntity)o).Id = (string)v, 
                        isIntercepted: true,
                        isDynamic: false)
                },
            }
            
            .ToFrozenDictionary();

        public BaseEntity()
        {
        }

        public BaseEntity(IInterceptorSubjectContext context) : this()
        {
            ((IInterceptorSubject)this).Context.AddFallbackContext(context);
        }

        private string _Id;

        public partial string Id
        {
             get => GetPropertyValue<string>(nameof(Id), static (o) => ((BaseEntity)o)._Id);
             set => SetPropertyValue(nameof(Id), value, static (o) => ((BaseEntity)o)._Id, static (o, v) => ((BaseEntity)o)._Id = v);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private TProperty GetPropertyValue<TProperty>(string propertyName, Func<IInterceptorSubject, TProperty> readValue)
        {
            return _context is not null ? _context.GetPropertyValue(propertyName, readValue)! : readValue(this)!;
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void SetPropertyValue<TProperty>(string propertyName, TProperty newValue, Func<IInterceptorSubject, TProperty> readValue, Action<IInterceptorSubject, TProperty> setValue)
        {
            if (_context is null)
            {
                setValue(this, newValue);
            }
            else
            {
                _context.SetPropertyValue(propertyName, newValue, readValue, setValue);
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private object? InvokeMethod(string methodName, Func<IInterceptorSubject, object?[], object?> invokeMethod, params object?[] parameters)
        {
            return _context is not null ? _context.InvokeMethod(methodName, parameters, invokeMethod) : invokeMethod(this, parameters);
        }
    }
}


// <auto-generated>
//     This code was generated by Namotion.Interceptor.Generator
// </auto-generated>

using Namotion.Interceptor;
using Namotion.Interceptor.Interceptors;

using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Collections.Frozen;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text.Json.Serialization;

#pragma warning disable CS8669
#pragma warning disable CS0649

namespace YourDefaultNamespace 
{
    public partial class Person : IInterceptorSubject
    {
        private IInterceptorExecutor? _context;
        private IReadOnlyDictionary<string, SubjectPropertyMetadata>? _properties;

        [JsonIgnore]
        IInterceptorSubjectContext IInterceptorSubject.Context => _context ??= new InterceptorExecutor(this);

        [JsonIgnore]
        ConcurrentDictionary<(string? property, string key), object?> IInterceptorSubject.Data { get; } = new();

        [JsonIgnore]
        IReadOnlyDictionary<string, SubjectPropertyMetadata> IInterceptorSubject.Properties => _properties ?? DefaultProperties;

        [JsonIgnore]
        object IInterceptorSubject.SyncRoot { get; } = new object();

        void IInterceptorSubject.AddProperties(params IEnumerable<SubjectPropertyMetadata> properties)
        {
            _properties = (_properties ?? DefaultProperties)
                .Concat(properties.Select(p => new KeyValuePair<string, SubjectPropertyMetadata>(p.Name, p)))
                .ToFrozenDictionary();
        }

        public new static IReadOnlyDictionary<string, SubjectPropertyMetadata> DefaultProperties { get; } =
            new Dictionary<string, SubjectPropertyMetadata>
            {
                {
                    "Name",       
                    new SubjectPropertyMetadata(
                        typeof(Person).GetProperty(nameof(Name), BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)!, 
                        (o) => ((Person)o).Name, 
                        (o, v) => ((Person)o).Name = (string)v, 
                        isIntercepted: true,
                        isDynamic: false)
                },
            }
            .Concat(global::YourDefaultNamespace.BaseEntity.DefaultProperties)
            .ToFrozenDictionary();

        public Person()
        {
        }

        public Person(IInterceptorSubjectContext context) : this()
        {
            ((IInterceptorSubject)this).Context.AddFallbackContext(context);
        }

        private string _Name;

        public partial string Name
        {
             get => GetPropertyValue<string>(nameof(Name), static (o) => ((Person)o)._Name);
             set => SetPropertyValue(nameof(Name), value, static (o) => ((Person)o)._Name, static (o, v) => ((Person)o)._Name = v);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private TProperty GetPropertyValue<TProperty>(string propertyName, Func<IInterceptorSubject, TProperty> readValue)
        {
            return _context is not null ? _context.GetPropertyValue(propertyName, readValue)! : readValue(this)!;
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void SetPropertyValue<TProperty>(string propertyName, TProperty newValue, Func<IInterceptorSubject, TProperty> readValue, Action<IInterceptorSubject, TProperty> setValue)
        {
            if (_context is null)
            {
                setValue(this, newValue);
            }
            else
            {
                _context.SetPropertyValue(propertyName, newValue, readValue, setValue);
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private object? InvokeMethod(string methodName, Func<IInterceptorSubject, object?[], object?> invokeMethod, params object?[] parameters)
        {
            return _context is not null ? _context.InvokeMethod(methodName, parameters, invokeMethod) : invokeMethod(this, parameters);
        }
    }
}


// <auto-generated>
//     This code was generated by Namotion.Interceptor.Generator
// </auto-generated>

using Namotion.Interceptor;
using Namotion.Interceptor.Interceptors;

using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Collections.Frozen;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text.Json.Serialization;

#pragma warning disable CS8669
#pragma warning disable CS0649

namespace YourDefaultNamespace 
{
    public partial class Employee : IInterceptorSubject
    {
        private IInterceptorExecutor? _context;
        private IReadOnlyDictionary<string, SubjectPropertyMetadata>? _properties;

        [JsonIgnore]
        IInterceptorSubjectContext IInterceptorSubject.Context => _context ??= new InterceptorExecutor(this);

        [JsonIgnore]
        ConcurrentDictionary<(string? property, string key), object?> IInterceptorSubject.Data { get; } = new();

        [JsonIgnore]
        IReadOnlyDictionary<string, SubjectPropertyMetadata> IInterceptorSubject.Properties => _properties ?? DefaultProperties;

        [JsonIgnore]
        object IInterceptorSubject.SyncRoot { get; } = new object();

        void IInterceptorSubject.AddProperties(params IEnumerable<SubjectPropertyMetadata> properties)
        {
            _properties = (_properties ?? DefaultProperties)
                .Concat(properties.Select(p => new KeyValuePair<string, SubjectPropertyMetadata>(p.Name, p)))
                .ToFrozenDictionary();
        }

        public new static IReadOnlyDictionary<string, SubjectPropertyMetadata> DefaultProperties { get; } =
            new Dictionary<string, SubjectPropertyMetadata>
            {
                {
                    "Department",       
                    new SubjectPropertyMetadata(
                        typeof(Employee).GetProperty(nameof(Department), BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)!, 
                        (o) => ((Employee)o).Department, 
                        (o, v) => ((Employee)o).Department = (string)v, 
                        isIntercepted: true,
                        isDynamic: false)
                },
            }
            .Concat(global::YourDefaultNamespace.Person.DefaultProperties)
            .ToFrozenDictionary();

        public Employee()
        {
        }

        public Employee(IInterceptorSubjectContext context) : this()
        {
            ((IInterceptorSubject)this).Context.AddFallbackContext(context);
        }

        private string _Department;

        public partial string Department
        {
             get => GetPropertyValue<string>(nameof(Department), static (o) => ((Employee)o)._Department);
             set => SetPropertyValue(nameof(Department), value, static (o) => ((Employee)o)._Department, static (o, v) => ((Employee)o)._Department = v);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private TProperty GetPropertyValue<TProperty>(string propertyName, Func<IInterceptorSubject, TProperty> readValue)
        {
            return _context is not null ? _context.GetPropertyValue(propertyName, readValue)! : readValue(this)!;
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void SetPropertyValue<TProperty>(string propertyName, TProperty newValue, Func<IInterceptorSubject, TProperty> readValue, Action<IInterceptorSubject, TProperty> setValue)
        {
            if (_context is null)
            {
                setValue(this, newValue);
            }
            else
            {
                _context.SetPropertyValue(propertyName, newValue, readValue, setValue);
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private object? InvokeMethod(string methodName, Func<IInterceptorSubject, object?[], object?> invokeMethod, params object?[] parameters)
        {
            return _context is not null ? _context.InvokeMethod(methodName, parameters, invokeMethod) : invokeMethod(this, parameters);
        }
    }
}


// <auto-generated>
//     This code was generated by Namotion.Interceptor.Generator
// </auto-generated>

using Namotion.Interceptor;
using Namotion.Interceptor.Interceptors;

using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Collections.Frozen;
using System.Linq;
using System.Reflection;
using System.Runtime.CompilerServices;
using System.Text.Json.Serialization;

#pragma warning disable CS8669
#pragma warning disable CS0649

namespace YourDefaultNamespace 
{
    public partial class Manager : IInterceptorSubject
    {
        private IInterceptorExecutor? _context;
        private IReadOnlyDictionary<string, SubjectPropertyMetadata>? _properties;

        [JsonIgnore]
        IInterceptorSubjectContext IInterceptorSubject.Context => _context ??= new InterceptorExecutor(this);

        [JsonIgnore]
        ConcurrentDictionary<(string? property, string key), object?> IInterceptorSubject.Data { get; } = new();

        [JsonIgnore]
        IReadOnlyDictionary<string, SubjectPropertyMetadata> IInterceptorSubject.Properties => _properties ?? DefaultProperties;

        [JsonIgnore]
        object IInterceptorSubject.SyncRoot { get; } = new object();

        void IInterceptorSubject.AddProperties(params IEnumerable<SubjectPropertyMetadata> properties)
        {
            _properties = (_properties ?? DefaultProperties)
                .Concat(properties.Select(p => new KeyValuePair<string, SubjectPropertyMetadata>(p.Name, p)))
                .ToFrozenDictionary();
        }

        public new static IReadOnlyDictionary<string, SubjectPropertyMetadata> DefaultProperties { get; } =
            new Dictionary<string, SubjectPropertyMetadata>
            {
                {
                    "TeamSize",       
                    new SubjectPropertyMetadata(
                        typeof(Manager).GetProperty(nameof(TeamSize), BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance)!, 
                        (o) => ((Manager)o).TeamSize, 
                        (o, v) => ((Manager)o).TeamSize = (int)v, 
                        isIntercepted: true,
                        isDynamic: false)
                },
            }
            .Concat(global::YourDefaultNamespace.Employee.DefaultProperties)
            .ToFrozenDictionary();

        public Manager()
        {
        }

        public Manager(IInterceptorSubjectContext context) : this()
        {
            ((IInterceptorSubject)this).Context.AddFallbackContext(context);
        }

        private int _TeamSize;

        public partial int TeamSize
        {
             get => GetPropertyValue<int>(nameof(TeamSize), static (o) => ((Manager)o)._TeamSize);
             set => SetPropertyValue(nameof(TeamSize), value, static (o) => ((Manager)o)._TeamSize, static (o, v) => ((Manager)o)._TeamSize = v);
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private TProperty GetPropertyValue<TProperty>(string propertyName, Func<IInterceptorSubject, TProperty> readValue)
        {
            return _context is not null ? _context.GetPropertyValue(propertyName, readValue)! : readValue(this)!;
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private void SetPropertyValue<TProperty>(string propertyName, TProperty newValue, Func<IInterceptorSubject, TProperty> readValue, Action<IInterceptorSubject, TProperty> setValue)
        {
            if (_context is null)
            {
                setValue(this, newValue);
            }
            else
            {
                _context.SetPropertyValue(propertyName, newValue, readValue, setValue);
            }
        }

        [MethodImpl(MethodImplOptions.AggressiveInlining)]
        private object? InvokeMethod(string methodName, Func<IInterceptorSubject, object?[], object?> invokeMethod, params object?[] parameters)
        {
            return _context is not null ? _context.InvokeMethod(methodName, parameters, invokeMethod) : invokeMethod(this, parameters);
        }
    }
}
